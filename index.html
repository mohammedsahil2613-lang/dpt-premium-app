<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DPT Premium App</title>
<link rel="manifest" href="manifest.json">
<style>
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; padding:0; text-align:center; background: linear-gradient(135deg, #0B3D0B, #123F2A); color:#fff; }
h1,h2 { margin:10px; font-family:'FX Display', serif; text-shadow: 1px 1px 5px #000; }
button { padding:12px 25px; margin:8px; font-size:16px; border:none; border-radius:8px; cursor:pointer; transition:0.3s; }
button:hover { transform:scale(1.05); box-shadow:0 0 10px #fff; }
#roleSection { margin:20px; font-size:16px; }
.card { display:none; padding:20px; margin:20px auto; border-radius:15px; width:90%; max-width:400px; box-shadow:0 10px 20px rgba(0,0,0,0.6); text-align:center; }
#businessCard { background: linear-gradient(145deg, #0B3D0B, #2B6D2B); color:#000; font-weight:bold; font-size:20px; }
#investorHighlights { background:#123F5E; color:#fff; }
#customerStars { background:#009688; color:#fff; font-weight:bold; font-size:18px; }
.report, .analytics { margin-top:15px; text-align:left; padding:10px; background:rgba(255,255,255,0.05); border-radius:10px; }
#langSelect { padding:5px 10px; margin:10px; border-radius:5px; }
</style>
</head>
<body>

<h1>DPT Premium App</h1>

<label for="langSelect">Language:</label>
<select id="langSelect" onchange="setLanguage(this.value)">
  <option value="en">English</option>
  <option value="ar">Arabic</option>
  <option value="fr">French</option>
  <option value="es">Spanish</option>
  <option value="de">German</option>
</select>

<p id="selectRoleText"></p>
<button onclick="selectRole('BusinessOwner')" style="background:#0B3D0B; color:#C0C0C0;">Business Owner</button>
<button onclick="selectRole('Investor')" style="background:#123F5E; color:#C0C0C0;">Investor</button>
<button onclick="selectRole('Customer')" style="background:#009688; color:#fff;">Customer</button>

<div id="roleSection"></div>

<div id="businessCard" class="card">
  <h2>Business Card</h2>
  <p>⭐ ⭐ ⭐ ⭐ ⭐</p>
  <div class="report">
    <h3>Last Report</h3>
    <p>Revenue: $120,000</p>
    <p>Growth: 15%</p>
  </div>
  <div class="analytics">
    <h3>Analysis</h3>
    <p>Insights and recommendations for your business.</p>
  </div>
</div>

<div id="investorHighlights" class="card">
  <h2>Investor Highlights</h2>
  <div class="report">
    <h3>Last Report</h3>
    <p>Revenue: $120,000</p>
    <p>Growth: 15%</p>
  </div>
  <div class="analytics">
    <h3>Analysis</h3>
    <p>Insights for investors only. No business card displayed.</p>
  </div>
</div>

<div id="customerStars" class="card">
  <h2>Customer Report</h2>
  <p>⭐⭐⭐</p>
</div>

<script>
// Multi-language support
const texts = {
  en: {
    selectRole: "Select Your Role:",
    businessOwner: "Business Owner",
    investor: "Investor",
    customer: "Customer",
    payBusiness: "Pay $30 to Unlock Premium Access",
    payInvestor: "Pay $20 to Unlock Access",
    customerFree: "Customer access: free"
  },
  ar: {
    selectRole: "اختر دورك:",
    businessOwner: "مالك أعمال",
    investor: "مستثمر",
    customer: "زبون",
    payBusiness: "ادفع 30$ للوصول المميز",
    payInvestor: "ادفع 20$ للوصول",
    customerFree: "الوصول مجاني للزبائن"
  },
  fr: {
    selectRole: "Sélectionnez votre rôle:",
    businessOwner: "Propriétaire",
    investor: "Investisseur",
    customer: "Client",
    payBusiness: "Payez 30$ pour accéder au Premium",
    payInvestor: "Payez 20$ pour accéder",
    customerFree: "Accès gratuit pour les clients"
  },
  es: {
    selectRole: "Seleccione su rol:",
    businessOwner: "Propietario",
    investor: "Inversor",
    customer: "Cliente",
    payBusiness: "Pague $30 para desbloquear acceso Premium",
    payInvestor: "Pague $20 para desbloquear acceso",
    customerFree: "Acceso gratuito para clientes"
  },
  de: {
    selectRole: "Wählen Sie Ihre Rolle:",
    businessOwner: "Geschäftsinhaber",
    investor: "Investor",
    customer: "Kunde",
    payBusiness: "Zahlen Sie $30, um Premium freizuschalten",
    payInvestor: "Zahlen Sie $20, um Zugang freizuschalten",
    customerFree: "Kostenloser Zugriff für Kunden"
  }
};

function setLanguage(lang) {
  localStorage.setItem("lang", lang);
  const t = texts[lang];
  document.getElementById('selectRoleText').innerText = t.selectRole;
  document.querySelector("button[onclick*='BusinessOwner']").innerText = t.businessOwner;
  document.querySelector("button[onclick*='Investor']").innerText = t.investor;
  document.querySelector("button[onclick*='Customer']").innerText = t.customer;
}

function selectRole(role) {
  localStorage.setItem('userRole', role);
  const section = document.getElementById('roleSection');
  document.getElementById('businessCard').style.display = 'none';
  document.getElementById('investorHighlights').style.display = 'none';
  document.getElementById('customerStars').style.display = 'none';

  const t = texts[localStorage.getItem("lang") || "en"];

  if(role === 'BusinessOwner') {
    section.innerHTML = `
      <p>${t.payBusiness}</p>
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
        <input type="hidden" name="cmd" value="_xclick">
        <input type="hidden" name="business" value="mohammedsahil2613@gmail.com">
        <input type="hidden" name="item_name" value="DPT Premium App – Business Owner">
        <input type="hidden" name="amount" value="30.00">
        <input type="hidden" name="currency_code" value="USD">
        <input type="submit" value="${t.payBusiness}">
      </form>
      <button onclick="unlockBusinessCard()">I Paid</button>
    `;
  } else if(role === 'Investor') {
    section.innerHTML = `
      <p>${t.payInvestor}</p>
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
        <input type="hidden" name="cmd" value="_xclick">
        <input type="hidden" name="business" value="mohammedsahil2613@gmail.com">
        <input type="hidden" name="item_name" value="DPT Premium App – Investor">
        <input type="hidden" name="amount" value="20.00">
        <input type="hidden" name="currency_code" value="USD">
        <input type="submit" value="${t.payInvestor}">
      </form>
      <button onclick="unlockInvestor()">I Paid</button>
    `;
  } else {
    section.innerHTML = t.customerFree;
    document.getElementById('customerStars').style.display = 'block';
  }
}

function unlockBusinessCard() {
  localStorage.setItem('businessOwnerPaid','true');
  showContent(true);
}

function unlockInvestor() {
  localStorage.setItem('investorPaid','true');
  showContent(true);
}

function showContent(fromUnlock=false) {
  const role = localStorage.getItem('userRole');
  document.getElementById('businessCard').style.display = 'none';
  document.getElementById('investorHighlights').style.display = 'none';
  document.getElementById('customerStars').style.display = 'none';

  if(role === 'BusinessOwner' && (localStorage.getItem('businessOwnerPaid') === 'true' || fromUnlock)) {
    document.getElementById('businessCard').style.display = 'block';
  } else if(role === 'Investor' && (localStorage.getItem('investorPaid') === 'true' || fromUnlock)) {
    document.getElementById('investorHighlights').style.display = 'block';
  } else if(role === 'Customer') {
    document.getElementById('customerStars').style.display = 'block';
  }
}

// Service Worker registration
if('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js')
    .then(()=>console.log('Service Worker Registered'));
}

// Initialize language on load
window.onload = () => {
  const lang = localStorage.getItem("lang") || "en";
  document.getElementById('langSelect').value = lang;
  setLanguage(lang);
};
</script>
</body>
</html>
